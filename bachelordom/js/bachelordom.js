!function(t){function e(e){if(!(e instanceof Object&&7==e.length))return!1;var a={animation:!1,tooltip:{trigger:"axis"},radar:[{indicator:[{text:"闷骚",max:100},{text:"太帅",max:100},{text:"工作狂",max:100},{text:"活好",max:100},{text:"花心",max:100},{text:"暖男",max:100},{text:"高智商",max:100}],center:["50%","40%"],radius:90}],series:[{type:"radar",tooltip:{trigger:"item"},itemStyle:{normal:{areaStyle:{type:"default"}}},data:[{value:e}]}]},r=document.createElement("div");r.style.width="360px",r.style.height="300px";var n=echarts.init(r);n.setOption(a);var i=t(r).find("canvas");return!!i&&i[0]}function a(e,a){if(a=a||{width:150,height:150},!e)return!1;var r=document.createElement("div"),n=new QRCode(r,a);n.makeCode(e);var i=t(r).find("img");return!!i&&i}function r(e){var a=t.md5(e).toString(),r=/[a-zA-Z]/g,i=a.replace(r,"");if(i>=14){i=i.substring(0,14);var o=n(i);console.log(o)}else{for(var s=14-i.length,d=0;d<s;d++)i+=10*Math.random();var o=n(i)}return o}function n(t){return t.length%2==0&&t.match(/\d{2}/g)}var i={name:"test",namePos:{x:50,y:150},tg_url:"",tg_size:{width:210,height:150},bgUrl:"",bgSize:{width:"",height:""},canvas_font:"48px serif",canvas_fillStyle:"#3579d5",radarPos:{x:0,y:250},radarSize:{width:750,height:650},nums:[0,0,0,0,0,0,0],showPos:{pos1:"",pos2:""}};t.bachelor_tests=function(n){n=t.extend({},i,n),n.nums=r(n.name);var o,s,d=document.createElement("canvas");d.width=n.bgSize.width,d.height=n.bgSize.height;var g=d.getContext("2d");g.font=n.canvas_font,g.font=n.canvas_fillStyle;var m=e(n.nums),h=new Image;h.src=n.bgUrl,h.onload=function(){var t=h.width,e=h.height;g.drawImage(h,0,0,t,e),g.fillText(n.name,n.namePos.x,n.namePos.y),g.drawImage(m,n.radarPos.x,n.radarPos.y,n.radarSize.width,n.radarSize.height),o=d.toDataURL("image/png"),n.showPos.pos1.attr("src",o);var r=a(n.tg_url,n.tg_size)[0];setTimeout(function(){g.drawImage(r,250,850,200,200),s=d.toDataURL("image/png"),n.showPos.pos2.attr("src",s)},100)}}}(jQuery);